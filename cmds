make   # for compiling tspsol.cpp if needed

width=1000
height=1000

for seed in 2021 2022 2023 
do
for n in 10 20 30 40 50
do

# Step 1: data Generation
echo $n $seed
python3 tspgen.py $n $width $height $seed > inputdat.$n.$width.$height.$seed

# Step 2: Simulation
./tspsol.exe $width $height $seed < inputdat.$n.$width.$height.$seed > outputdat.$n.$width.$height.$seed

done
done

#Step 3: Data Analysis
cat out* | grep nearestfinal | awk '{print $2, $5, $6}' > nearest.dat
cat out* | grep safinal | awk '{print $2, $5, $6}' > sa.dat
python3 tspanalysis.py < sa.dat > saall.dat
python3 tspanalysis.py < nearest.dat > nearestall.dat

cat tsp.gnu | gnuplot
